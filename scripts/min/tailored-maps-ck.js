jQuery(document).ready(function(e){function t(){e(".tailored-maps").parent().width()>400?e(".tailored-maps").parent().removeClass("narrow").addClass("wide"):e(".tailored-maps").parent().removeClass("wide").addClass("narrow")}function a(){e(".tailored-maps").each(function(t,a){var r,n=new google.maps.LatLng(0,0),o=new google.maps.Geocoder,i=new google.maps.LatLngBounds,l=128,s=0,y=!0,p=e(a).attr("data-maps"),f=e(a).next().find("button.pan-up"),m=e(a).next().find("button.pan-bottom"),c=e(a).next().find("button.pan-left"),u=e(a).next().find("button.pan-right"),d=e(a).next().find("button.center"),g=e(a).next().find("button.zoom-in"),T=e(a).next().find("button.zoom-out"),k=e(a).next().find("button.next-marker");$controlsPrev=e(a).next().find("button.prev-marker"),styles=[{featureType:"administrative.country",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#5fb4e8"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#e6eaed"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{invert_lightness:!1},{color:"#a3adb3"}]},{featureType:"landscape",elementType:"geometry",stylers:[{visibility:"on"},{color:"#ffffff"}]}],f.click(function(e){e.preventDefault(),r.panBy(0,-l)}),m.click(function(e){e.preventDefault(),r.panBy(0,l)}),c.click(function(e){e.preventDefault(),r.panBy(-l,0)}),u.click(function(e){e.preventDefault(),r.panBy(l,0)}),d.click(function(e){e.preventDefault(),r.panTo(i.getCenter())}),g.click(function(e){e.preventDefault(),r.setZoom(r.getZoom()+1)}),T.click(function(e){e.preventDefault(),r.setZoom(r.getZoom()-1)}),k.click(function(e){e.preventDefault(),s++,y===!0?(s=0,y=!1):s>marker_array.length-1&&(s=0),r.panTo(marker_array[s].getPosition()),r.setCenter(marker_array[s].getPosition()),google.maps.event.trigger(marker_array[s],"click")}),$controlsPrev.click(function(e){e.preventDefault(),s--,0>s&&(s=marker_array.length-1),r.panTo(marker_array[s].getPosition()),r.setCenter(marker_array[s].getPosition()),google.maps.event.trigger(marker_array[s],"click")}),p=jQuery.parseJSON(p),marker_array=[];var b=new google.maps.StyledMapType(styles,{name:"Styled Map"});r=new google.maps.Map(a,{disableDefaultUI:!0,disableDoubleClickZoom:!0,scrollwheel:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}});var v=new google.maps.InfoWindow;e.each(p,function(e,t){marker=new google.maps.Marker({position:new google.maps.LatLng(p[e].lat,p[e].long),map:r,icon:p[e].image}),i.extend(marker.position),google.maps.event.addListener(marker,"click",function(e,t){return function(){v.setContent(p[t].markup),v.open(r,e)}}(marker,e)),marker_array.push(marker)}),r.setCenter(i.getCenter()),r.mapTypes.set("map_style",b),r.setMapTypeId("map_style"),r.fitBounds(i),e(this).attr("tabIndex",0),e(this).keydown(function(e){if(-1!=[37,38,39,40,109,189,219,107,187,221].indexOf(e.keyCode))switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case 37:r.panBy(-l,0);break;case 38:r.panBy(0,-l);break;case 39:r.panBy(l,0);break;case 40:r.panBy(0,l);break;case 109:case 189:case 219:r.setZoom(r.getZoom()-1);break;case 107:case 187:case 221:r.setZoom(r.getZoom()+1)}})})}e(window).on("resize",function(){t()}),t(),a()});